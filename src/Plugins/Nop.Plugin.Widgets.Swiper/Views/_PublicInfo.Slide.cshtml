@model PublicSlideModel

@{
    void slideImage()
    {
        <img class="slider-img"
             src="@Model.PictureUrl"
             alt="@Model.AltText"
             title="@Model.TitleText"
             @if (!string.IsNullOrEmpty(Model.SrcSet)) { <text>srcset="@Model.SrcSet"</text> }
             @if (Model.Width.HasValue) { <text>width="@Model.Width.Value"</text> }
             @if (Model.Height.HasValue) { <text>height="@Model.Height.Value"</text> }
             @if (Model.Width.HasValue || Model.Height.HasValue) { <text>decoding="async"</text> }
             @(Model.LazyLoading ? "loading=lazy" : string.Empty)
             fetchpriority="@(Model.LazyLoading ? "low" : "high")">
        </img>
    }
}

@if (!string.IsNullOrEmpty(Model.PictureUrl))
{

    <div class="swiper-slide">
        @if (!string.IsNullOrEmpty(Model.LinkUrl))
        {
            <a href="@Model.LinkUrl" aria-label="@Model.AltText">
                @{ slideImage(); }
            </a>
        }
        else
        {
            slideImage();
        }

        @if (Model.LazyLoading)
        {
            <div class="swiper-lazy-preloader"></div>
        }
    </div>
}
